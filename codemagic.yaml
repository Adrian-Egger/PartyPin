workflows:
  ios_inline_signing:
    name: iOS Inline Signing (nur Workflow)
    environment:
      vars:
        SCHEME: "Runner"
        EXPORT_METHOD: "app-store"

        # Du fügst das MobileProvision selbst ein:
        MOBILEPROVISION_BASE64: "MII2WgYJKoZIhvcNAQcCoII2SzCCNkcCAQExCzAJBgUrDgMCGgUAMIImZwYJKoZIhvcNAQcBoIImWASCJlQ8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CjxkaWN0PgoJPGtleT5BcHBJRE5hbWU8L2tleT4KCTxzdHJpbmc+UGFydHlwaW4gPC9zdHJpbmc+Cgk8a2V5PkFwcGxpY2F0aW9uSWRlbnRpZmllclByZWZpeDwva2V5PgoJPGFycmF5PgoJPHN0cmluZz43QlNCQjdZNDg1PC9zdHJpbmc+Cgk8L2FycmF5PgoJPGtleT5DcmVhdGlvbkRhdGU8L2tleT4KCTxkYXRlPjIwMjUtMTAtMTlUMTg6MzI6MjRaPC9kYXRlPgoJPGtleT5QbGF0Zm9ybTwva2V5PgoJPGFycmF5PgoJCTxzdHJpbmc+aU9TPC9zdHJpbmc+CgkJPHN0cmluZz54ck9TPC9zdHJpbmc+CgkJPHN0cmluZz52aXNpb25PUzwvc3RyaW5nPgoJPC9hcnJheT4KCTxrZXk+SXNYY29kZU1hbmFnZWQ8L2tleT4KCTxmYWxzZS8+Cgk8a2V5PkRldmVsb3BlckNlcnRpZmljYXRlczwva2V5PgoJPGFycmF5PgoJCTxkYXRhPk1JSUZzVENDQkptZ0F3SUJBZ0lRSWVncXdSdTV2WjI0VHlWLzhJVExKakFOQmdrcWhraUc5dzBCQVFzRkFEQjFNVVF3UWdZRFZRUURERHRCY0hCc1pTQlhiM0pzWkhkcFpHVWdSR1YyWld4dmNHVnlJRkpsYkdGMGFXOXVjeUJEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVURUxNQWtHQTFVRUN3d0NSek14RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNQjRYRFRJMU1UQXhPREl4TlRrMU9Gb1hEVEkyTVRBeE9ESXhOVGsxTjFvd2dZd3hHakFZQmdvSmtpYUprL0lzWkFFQkRBbzNRbE5DUWpkWk5EZzFNVFl3TkFZRFZRUUREQzFwVUdodmJtVWdSR2x6ZEhKcFluVjBhVzl1T2lCVGIyNXFZU0JGWjJkbGNpQW9OMEpUUWtJM1dUUTROU2t4RXpBUkJnTlZCQXNNQ2pkQ1UwSkNOMWswT0RVeEZEQVNCZ05WQkFvTUMxTnZibXBoSUVWbloyVnlNUXN3Q1FZRFZRUUdFd0pCVkRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTZKVnYrb1BkRWF3T0NuMDlrVmtvRm0vb2pXR2F4MjUvdEFmMVpiQXJqSFd2aHFYYUNqNy9rRFBRcmhxQTNWeHJqdmpWUEtYN2ZHZjVXMjFjQW9JeFgyamFIcmlhYXgzZ1hhU2FXbUpwb01QbmF0Wkh0amFIMjZjL2EwOG5rREJVenV6ZmtDMU1VOTRqVEI4bjVVSldrOHZiMzVWQUVmWUMxRmNCRzZ3OTdRQWh2TVhreE9RaXB0QnAwd2YxaU4wMy84UmdMUlRxSEZaSHoyNEJqVS9EWkZKTGhjTnZSU0FYbGw5akpPUzgwSXMyOHlxSzJNdTBKWmxaeTFjQ3c5Qk5jQUNacXZhVS81T2xVMG56MlpRRytMZVovTTZQREJuTVVrNG9xZTlRTFNQNTNRYlg3KzNpa0xUZFNYTDJBMkhkVUJOa0thaHRkMERxc0JXRmltR0owQ0F3RUFBYU9DQWlNd2dnSWZNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVDZjdBRlpENXIyUUtraEs1SmloakRKZnNwN0l3Y0FZSUt3WUJCUVVIQVFFRVpEQmlNQzBHQ0NzR0FRVUZCekFDaGlGb2RIUndPaTh2WTJWeWRITXVZWEJ3YkdVdVkyOXRMM2QzWkhKbk15NWtaWEl3TVFZSUt3WUJCUVVITUFHR0pXaDBkSEE2THk5dlkzTndMbUZ3Y0d4bExtTnZiUzl2WTNOd01ETXRkM2RrY21jek1ESXdnZ0VlQmdOVkhTQUVnZ0VWTUlJQkVUQ0NBUTBHQ1NxR1NJYjNZMlFGQVRDQi96Q0J3d1lJS3dZQkJRVUhBZ0l3Z2JZTWdiTlNaV3hwWVc1alpTQnZiaUIwYUdseklHTmxjblJwWm1sallYUmxJR0o1SUdGdWVTQndZWEowZVNCaGMzTjFiV1Z6SUdGalkyVndkR0Z1WTJVZ2IyWWdkR2hsSUhSb1pXNGdZWEJ3YkdsallXSnNaU0J6ZEdGdVpHRnlaQ0IwWlhKdGN5QmhibVFnWTI5dVpHbDBhVzl1Y3lCdlppQjFjMlVzSUdObGNuUnBabWxqWVhSbElIQnZiR2xqZVNCaGJtUWdZMlZ5ZEdsbWFXTmhkR2x2YmlCd2NtRmpkR2xqWlNCemRHRjBaVzFsYm5SekxqQTNCZ2dyQmdFRkJRY0NBUllyYUhSMGNITTZMeTkzZDNjdVlYQndiR1V1WTI5dEwyTmxjblJwWm1sallYUmxZWFYwYUc5eWFYUjVMekFXQmdOVkhTVUJBZjhFRERBS0JnZ3JCZ0VGQlFjREF6QWRCZ05WSFE0RUZnUVU1QnF2WVRZWEoremZXdHVUUlN0RitmMks2Nnd3RGdZRFZSMFBBUUgvQkFRREFnZUFNQk1HQ2lxR1NJYjNZMlFHQVFRQkFmOEVBZ1VBTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFEVi92cDQwZ0UwdXJVZE1rMzZFdVFHVkdhR0ZVUExlSmRrWlJyTDVDNlJOSWZHMGplNEJnc2JkYjJ6Y2MzYitnT2FpY2ZuSytabFBXaWtNa0x2a043ckduTVZOblE5Y0tKMGNiU01OYXdDRXFKWXdXYmdQakNFbXN0OHJkTWJHUFFHSzhjZ1VVTEJwZmlTMzVZdVA3eFhFYjVqdXR6MDhuajZwZDJuZllJVWxxNUl1aFY2dXk0U3NIZVJxdmlFVHpBWlZ3R3FWWTMrNEVnbDJidEp6KzVaTUgzNTdOSDNmanJVcGllNkUrTHVBVGdGQ1FuU1UvWlJiMVZ1VUZpVHg4TTJjaGRXWm5MbUV3bzIvSEc3ak9ZcHJLZWxSMGVSVjdUMW1XaTFhY2JaMENrb2RIOElZRFpjVHFFc3d0dEpTT3VXRkl5cW95aHFabW1Iak9zQTdpVmw8L2RhdGE+Cgk8L2FycmF5PgoKCTxrZXk+REVSLUVuY29kZWQtUHJvZmlsZTwva2V5PgoJPGRhdGE+TUlJUFJnWUpLb1pJaHZjTkFRY0NvSUlQTnpDQ0R6TUNBUUV4RFRBTEJnbGdoa2dCWlFNRUFnRXdnZ1VGQmdrcWhraUc5dzBCQndHZ2dnVDJCSUlFOGpHQ0JPNHdEQXdIVm1WeWMybHZiZ0lCQVRBTkRBaFFVRkZEYUdWamF3RUJBREFRREFwVWFXMWxWRzlNYVhabEFnSUJiREFUREE1SmMxaGpiMlJsVFdGdVlXZGxaQUVCQURBV0RBbEJjSEJKUkU1aGJXVU1DVkJoY25SNWNHbHVJREFYREFoVVpXRnRUbUZ0WlF3TFUyOXVhbUVnUldkblpYSXdIUXdNUTNKbFlYUnBiMjVFWVhSbEZ3MHlOVEV3TVRreE9ETXlNalJhTUI0TURsUmxZVzFKWkdWdWRHbG1hV1Z5TUF3TUNqZENVMEpDTjFrME9EVXdId3dPUlhod2FYSmhkR2x2YmtSaGRHVVhEVEkyTVRBeE9ESXhOVGsxTjFvd0lBd1hVSEp2Wm1sc1pVUnBjM1J5YVdKMWRHbHZibFI1Y0dVTUJWTlVUMUpGTUNFTUJFNWhiV1VNR1ZCaGNuUjVVR2x1SUVGd2NGTjBiM0psSUZCeWIyWnBiR1V3SVF3SVVHeGhkR1p2Y20wd0ZRd0RhVTlUREFSNGNrOVREQWgyYVhOcGIyNVBVekFyREJ0QmNIQnNhV05oZEdsdmJrbGtaVzUwYVdacFpYSlFjbVZtYVhnd0RBd0tOMEpUUWtJM1dUUTROVEFzREFSVlZVbEVEQ1EyWkRVNE56TTROQzA0WmpRMUxUUXdaalF0WVRVeE5pMDNNV1ZoTW1ZeE5tVXlPREV3T3d3VlJHVjJaV3h2Y0dWeVEyVnlkR2xtYVdOaGRHVnpNQ0lFSURLNUZzaTBHcTUvZFQ3WG05c3NDS29kWVo0UXJIRE11RmV4Y1NxdmVzd0JNSUlERlF3TVJXNTBhWFJzWlcxbGJuUnpjSUlEQXdJQkFiQ0NBdnd3T0F3V1lYQndiR2xqWVhScGIyNHRhV1JsYm5ScFptbGxjZ3dlTjBKVFFrSTNXVFE0TlM1amIyMHVURUZzWVdKekxuQmhjblI1Y0dsdU1CME1EMkZ3Y3kxbGJuWnBjbTl1YldWdWRBd0tjSEp2WkhWamRHbHZiakFZREJOaVpYUmhMWEpsY0c5eWRITXRZV04wYVhabEFRSC9NQ3dNSDJOdmJTNWhjSEJzWlM1a1pYWmxiRzl3WlhJdVlYQndiR1Z6YVdkdWFXNHdDUXdIUkdWbVlYVnNkREFyRENaamIyMHVZWEJ3YkdVdVpHVjJaV3h2Y0dWeUxtUmxZMnhoY21Wa0xXRm5aUzF5WVc1blpRRUIvekFuRENOamIyMHVZWEJ3YkdVdVpHVjJaV3h2Y0dWeUxtbHVMV0Z3Y0Mxd1lYbHRaVzUwY3pBQU1DWU1JV052YlM1aGNIQnNaUzVrWlhabGJHOXdaWEl1YldWemMyRm5hVzVuTFdGd2NBRUIvekJtRERKamIyMHVZWEJ3YkdVdVpHVjJaV3h2Y0dWeUxtNWxkSGR2Y210cGJtY3VjMnhwWTJsdVp5NWhjSEJqWVhSbFoyOXllVEF3REJKamIyMXRkVzVwWTJGMGFXOXVMVGt3TURBTUNtZGhiV1Z6TFRZd01UUU1Ebk4wY21WaGJXbHVaeTA1TURBeE1JR3NERFpqYjIwdVlYQndiR1V1WkdWMlpXeHZjR1Z5TG01bGRIZHZjbXRwYm1jdWMyeHBZMmx1Wnk1MGNtRm1abWxqWTJGMFpXZHZjbmt3Y2d3T1pHVm1ZWFZzZEhOc2FXTmxMVEVNQjNacFpHVnZMVElNREdKaFkydG5jbTkxYm1RdE13d0hkbTlwWTJVdE5Bd1BZMkZzYkhOcFoyNWhiR2x1WnkwMURCQnlaWE53YjI1emFYWmxaR0YwWVMwMkRBMWhkbk4wY21WaGJXbHVaeTAzREE1eVpYTndiMjV6YVhabFlYWXRPREJCREROamIyMHVZWEJ3YkdVdVpHVjJaV3h2Y0dWeUxuTmxibk5wZEdsMlpXTnZiblJsYm5SaGJtRnNlWE5wY3k1amJHbGxiblF3Q2d3SVlXNWhiSGx6YVhNd01Rd2pZMjl0TG1Gd2NHeGxMbVJsZG1Wc2IzQmxjaTUwWldGdExXbGtaVzUwYVdacFpYSU1DamRDVTBKQ04xazBPRFV3RXd3T1oyVjBMWFJoYzJzdFlXeHNiM2NCQVFBd09Rd1dhMlY1WTJoaGFXNHRZV05qWlhOekxXZHliM1Z3Y3pBZkRBdzNRbE5DUWpkWk5EZzFMaW9NRDJOdmJTNWhjSEJzWlM1MGIydGxicUNDQ0R3d2dnSkRNSUlCeWFBREFnRUNBZ2d0eGZ5STBzVkxsVEFLQmdncWhrak9QUVFEQXpCbk1Sc3dHUVlEVlFRRERCSkJjSEJzWlNCU2IyOTBJRU5CSUMwZ1J6TXhKakFrQmdOVkJBc01IVUZ3Y0d4bElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Rc3dDUVlEVlFRR0V3SlZVekFlRncweE5EQTBNekF4T0RFNU1EWmFGdzB6T1RBME16QXhPREU1TURaYU1HY3hHekFaQmdOVkJBTU1Fa0Z3Y0d4bElGSnZiM1FnUTBFZ0xTQkhNekVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUhZd0VBWUhLb1pJemowQ0FRWUZLNEVFQUNJRFlnQUVtT2t2UFVCeXBPMlRJbktCRXh6ZEVKWHh4YU5PY2R3VUZ0a081YVlGS25ka2UxOU9PTk83SEVTMWYvVWZ0akppWGNucGhGdFBNRThSV2dEOVdGZ01wZlVQTEUwSFJ4TjEycGVYbDI4eFhPMHJuWHNnTzlpNVZObGVtYVE2VVFveG8wSXdRREFkQmdOVkhRNEVGZ1FVdTdEZW9WZ3ppSnFraXBuZXZyM3JyOXJMSktzd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3Q2dZSUtvWkl6ajBFQXdNRGFBQXdaUUl4QUlQcHdjUVdYaHBkTkJqWjdlLzBiQTRBUmt1NDM3SkdFY1VQL2VaNmpLR21hODdDQTlTYzlaUEdkTGhxMzZvakZRSXdiV2FLRU1yVURkUlB6WTFEUHJTS1k2VXpidU50MmhlM1pCL0lVeWI1aUdKME9Rc1hXOHRScUF6b0dBUG5vcklvTUlJQzVqQ0NBbTJnQXdJQkFnSUlNdzN1K0w5TWFDNHdDZ1lJS29aSXpqMEVBd013WnpFYk1Ca0dBMVVFQXd3U1FYQndiR1VnVW05dmRDQkRRU0F0SUVjek1TWXdKQVlEVlFRTERCMUJjSEJzWlNCRFpYSjBhV1pwWTJGMGFXOXVJRUYxZEdodmNtbDBlVEVUTUJFR0ExVUVDZ3dLUVhCd2JHVWdTVzVqTGpFTE1Ba0dBMVVFQmhNQ1ZWTXdIaGNOTVRjd01qSXlNakl5TXpJeVdoY05Nekl3TWpFNE1EQXdNREF3V2pCeU1TWXdKQVlEVlFRRERCMUJjSEJzWlNCVGVYTjBaVzBnU1c1MFpXZHlZWFJwYjI0Z1EwRWdOREVtTUNRR0ExVUVDd3dkUVhCd2JHVWdRMlZ5ZEdsbWFXTmhkR2x2YmlCQmRYUm9iM0pwZEhreEV6QVJCZ05WQkFvTUNrRndjR3hsSUVsdVl5NHhDekFKQmdOVkJBWVRBbFZUTUZrd0V3WUhLb1pJemowQ0FRWUlLb1pJemowREFRY0RRZ0FFQm11a1ZtOTlueWZSemphT2todFd6VlEyWkVySmxHaVorc2tnZnVMMVdBL2M0bXJyR1Vjdkx1ODdwQUcwQVJORWZGb21yYUNjS1NXSzVlWUdiMDk4V3FPQjl6Q0I5REFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQjhHQTFVZEl3UVlNQmFBRkx1dzNxRllNNGlhcElxWjNyNjk2Ni9heXlTck1FWUdDQ3NHQVFVRkJ3RUJCRG93T0RBMkJnZ3JCZ0VGQlFjd0FZWXFhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdNeTFoY0hCc1pYSnZiM1JqWVdjek1EY0dBMVVkSHdRd01DNHdMS0Fxb0NpR0ptaDBkSEE2THk5amNtd3VZWEJ3YkdVdVkyOXRMMkZ3Y0d4bGNtOXZkR05oWnpNdVkzSnNNQjBHQTFVZERnUVdCQlI2UjdvNGloVWtTQ0pHemI2UEdpUjdOQU1xYVRBT0JnTlZIUThCQWY4RUJBTUNBUVl3RUFZS0tvWklodmRqWkFZQ0VRUUNCUUF3Q2dZSUtvWkl6ajBFQXdNRFp3QXdaQUl3RlF5cGpzYXZsbWxycDUvZFhOUURXV3l1VXRSZ3hvdDI0TGZGb3ZFSmZPQ2E0MnV4NDN3eHhDZDZwNDZKL2F0M0FqQmhNeUR4S2YvNWh6S3VLY2hrUFhaN1VhVFNBaTkydm1BaWtmSFZPblhjdE9MR0twYit4Z25jU2svVkpQRDh5ckl3Z2dNSE1JSUNyYUFEQWdFQ0FnZ1hnS2cwWm1UcXl6QUtCZ2dxaGtqT1BRUURBakJ5TVNZd0pBWURWUVFEREIxQmNIQnNaU0JUZVhOMFpXMGdTVzUwWldkeVlYUnBiMjRnUTBFZ05ERW1NQ1FHQTFVRUN3d2RRWEJ3YkdVZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt4RXpBUkJnTlZCQW9NQ2tGd2NHeGxJRWx1WXk0eEN6QUpCZ05WQkFZVEFsVlRNQjRYRFRJME1URXlNREF6TWpBME5Wb1hEVEk0TVRJeE5ERTRNREF6TUZvd1RqRXFNQ2dHQTFVRUF3d2hWMWRFVWlCUWNtOTJhWE5wYjI1cGJtY2dVSEp2Wm1sc1pTQlRhV2R1YVc1bk1STXdFUVlEVlFRS0RBcEJjSEJzWlNCSmJtTXVNUXN3Q1FZRFZRUUdFd0pWVXpCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQlBXVVd3N0IxRlEvR2Q1R1lDVmZQbzRwejJ4UGs5VWN0MzIyVWw4ZjRmdGpBYktDRzZpaFRyVFQ3ZTlXdVJmVW1NMWd0ODVPcWJjNlYzWlQ2RE5EcjMyamdnRlBNSUlCU3pBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkhwSHVqaUtGU1JJSWtiTnZvOGFKSHMwQXlwcE1FRUdDQ3NHQVFVRkJ3RUJCRFV3TXpBeEJnZ3JCZ0VGQlFjd0FZWWxhSFIwY0RvdkwyOWpjM0F1WVhCd2JHVXVZMjl0TDI5amMzQXdNeTFoYzJsallUUXdNekNCbGdZRFZSMGdCSUdPTUlHTE1JR0lCZ2txaGtpRzkyTmtCUUV3ZXpCNUJnZ3JCZ0VGQlFjQ0FqQnRER3RVYUdseklHTmxjblJwWm1sallYUmxJR2x6SUhSdklHSmxJSFZ6WldRZ1pYaGpiSFZ6YVhabGJIa2dabTl5SUdaMWJtTjBhVzl1Y3lCcGJuUmxjbTVoYkNCMGJ5QkJjSEJzWlNCUWNtOWtkV04wY3lCaGJtUXZiM0lnUVhCd2JHVWdjSEp2WTJWemMyVnpMakFkQmdOVkhRNEVGZ1FVNlZMT0RiREdpQnBsU3JpYkVZL3gzQjVIRkh3d0RnWURWUjBQQVFIL0JBUURBZ2VBTUE4R0NTcUdTSWIzWTJRTUV3UUNCUUF3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQU8rYXZGMmdXbVpzWkxuTk41T3BVN1EzeGNkczRZUDZGeHJlQ3ozV3EyaG1BaUI0STluRGlBZEpQZlg3aVkrUWJsamdWNTlqLzFqaDFvOWNtR1BXT2o0L25UR0NBZFF3Z2dIUUFnRUJNSDR3Y2pFbU1DUUdBMVVFQXd3ZFFYQndiR1VnVTNsemRHVnRJRWx1ZEdWbmNtRjBhVzl1SUVOQklEUXhKakFrQmdOVkJBc01IVUZ3Y0d4bElFTmxjblJwWm1sallYUnBiMjRnUVhWMGFHOXlhWFI1TVJNd0VRWURWUVFLREFwQmNIQnNaU0JKYm1NdU1Rc3dDUVlEVlFRR0V3SlZVd0lJRjRDb05HWms2c3N3Q3dZSllJWklBV1VEQkFJQm9JSG5NQmdHQ1NxR1NJYjNEUUVKQXpFTEJna3Foa2lHOXcwQkJ3RXdIQVlKS29aSWh2Y05BUWtGTVE4WERUSTFNVEF4T1RFNE16SXlORm93S0FZSktvWklodmNOQVFrME1Sc3dHVEFMQmdsZ2hrZ0JaUU1FQWdHaENnWUlLb1pJemowRUF3SXdMd1lKS29aSWh2Y05BUWtFTVNJRUlMS0t5RDVNSHF3NzZod2xSNGcza0E4VWJoOHRvRnJuc0s5THI0SXNGWWUzTUZJR0NTcUdTSWIzRFFFSkR6RkZNRU13Q2dZSUtvWklodmNOQXdjd0RnWUlLb1pJaHZjTkF3SUNBZ0NBTUEwR0NDcUdTSWIzRFFNQ0FnRkFNQWNHQlNzT0F3SUhNQTBHQ0NxR1NJYjNEUU1DQWdFb01Bb0dDQ3FHU000OUJBTUNCRWd3UmdJaEFKSFJQazZHSFV5T1RDVDNDWGhmODg2L0tSMjF5djBlZE1ObWY0MDMzNjJaQWlFQTZpd2wyc05kVklVNnlqREYyTzZKbXJEWnM2YUNVRjZpNDc5QlBlNGN6Z1k9PC9kYXRhPgoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCgkJCTxrZXk+UFBRQ2hlY2s8L2tleT4KCTxmYWxzZS8+CgoJPGtleT5FbnRpdGxlbWVudHM8L2tleT4KCTxkaWN0PgoJCTxrZXk+YmV0YS1yZXBvcnRzLWFjdGl2ZTwva2V5PgoJCTx0cnVlLz4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLm5ldHdvcmtpbmcuc2xpY2luZy5hcHBjYXRlZ29yeTwva2V5PgoJCTxhcnJheT4KCQkJCTxzdHJpbmc+Y29tbXVuaWNhdGlvbi05MDAwPC9zdHJpbmc+CgkJCQk8c3RyaW5nPmdhbWVzLTYwMTQ8L3N0cmluZz4KCQkJCTxzdHJpbmc+c3RyZWFtaW5nLTkwMDE8L3N0cmluZz4KCQk8L2FycmF5PgoJCQkJCgkJCQk8a2V5PmNvbS5hcHBsZS5kZXZlbG9wZXIubmV0d29ya2luZy5zbGljaW5nLnRyYWZmaWNjYXRlZ29yeTwva2V5PgoJCTxhcnJheT4KCQkJCTxzdHJpbmc+ZGVmYXVsdHNsaWNlLTE8L3N0cmluZz4KCQkJCTxzdHJpbmc+dmlkZW8tMjwvc3RyaW5nPgoJCQkJPHN0cmluZz5iYWNrZ3JvdW5kLTM8L3N0cmluZz4KCQkJCTxzdHJpbmc+dm9pY2UtNDwvc3RyaW5nPgoJCQkJPHN0cmluZz5jYWxsc2lnbmFsaW5nLTU8L3N0cmluZz4KCQkJCTxzdHJpbmc+cmVzcG9uc2l2ZWRhdGEtNjwvc3RyaW5nPgoJCQkJPHN0cmluZz5hdnN0cmVhbWluZy03PC9zdHJpbmc+CgkJCQk8c3RyaW5nPnJlc3BvbnNpdmVhdi04PC9zdHJpbmc+CgkJPC9hcnJheT4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLmluLWFwcC1wYXltZW50czwva2V5PgoJCTxhcnJheT48L2FycmF5PgoJCQkJCgkJCQk8a2V5PmNvbS5hcHBsZS5kZXZlbG9wZXIubWVzc2FnaW5nLWFwcDwva2V5PgoJCTx0cnVlLz4KCQkJCQoJCQkJPGtleT5hcHBsaWNhdGlvbi1pZGVudGlmaWVyPC9rZXk+CgkJPHN0cmluZz43QlNCQjdZNDg1LmNvbS5MQWxhYnMucGFydHlwaW48L3N0cmluZz4KCQkJCQoJCQkJPGtleT5rZXljaGFpbi1hY2Nlc3MtZ3JvdXBzPC9rZXk+CgkJPGFycmF5PgoJCQkJPHN0cmluZz43QlNCQjdZNDg1Lio8L3N0cmluZz4KCQkJCTxzdHJpbmc+Y29tLmFwcGxlLnRva2VuPC9zdHJpbmc+CgkJPC9hcnJheT4KCQkJCQoJCQkJPGtleT5nZXQtdGFzay1hbGxvdzwva2V5PgoJCTxmYWxzZS8+CgkJCQkKCQkJCTxrZXk+Y29tLmFwcGxlLmRldmVsb3Blci50ZWFtLWlkZW50aWZpZXI8L2tleT4KCQk8c3RyaW5nPjdCU0JCN1k0ODU8L3N0cmluZz4KCQkJCQoJCQkJPGtleT5hcHMtZW52aXJvbm1lbnQ8L2tleT4KCQk8c3RyaW5nPnByb2R1Y3Rpb248L3N0cmluZz4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLmRlY2xhcmVkLWFnZS1yYW5nZTwva2V5PgoJCTx0cnVlLz4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLnNlbnNpdGl2ZWNvbnRlbnRhbmFseXNpcy5jbGllbnQ8L2tleT4KCQk8YXJyYXk+CgkJCQk8c3RyaW5nPmFuYWx5c2lzPC9zdHJpbmc+CgkJPC9hcnJheT4KCQkJCQoJCQkJPGtleT5jb20uYXBwbGUuZGV2ZWxvcGVyLmFwcGxlc2lnbmluPC9rZXk+CgkJPGFycmF5PgoJCQkJPHN0cmluZz5EZWZhdWx0PC9zdHJpbmc+CgkJPC9hcnJheT4KCQkKCTwvZGljdD4KCTxrZXk+RXhwaXJhdGlvbkRhdGU8L2tleT4KCTxkYXRlPjIwMjYtMTAtMThUMjE6NTk6NTdaPC9kYXRlPgoJPGtleT5OYW1lPC9rZXk+Cgk8c3RyaW5nPlBhcnR5UGluIEFwcFN0b3JlIFByb2ZpbGU8L3N0cmluZz4KCTxrZXk+VGVhbUlkZW50aWZpZXI8L2tleT4KCTxhcnJheT4KCQk8c3RyaW5nPjdCU0JCN1k0ODU8L3N0cmluZz4KCTwvYXJyYXk+Cgk8a2V5PlRlYW1OYW1lPC9rZXk+Cgk8c3RyaW5nPlNvbmphIEVnZ2VyPC9zdHJpbmc+Cgk8a2V5PlRpbWVUb0xpdmU8L2tleT4KCTxpbnRlZ2VyPjM2NDwvaW50ZWdlcj4KCTxrZXk+VVVJRDwva2V5PgoJPHN0cmluZz42ZDU4NzM4NC04ZjQ1LTQwZjQtYTUxNi03MWVhMmYxNmUyODE8L3N0cmluZz4KCTxrZXk+VmVyc2lvbjwva2V5PgoJPGludGVnZXI+MTwvaW50ZWdlcj4KPC9kaWN0Pgo8L3BsaXN0PqCCDT8wggQ0MIIDHKADAgECAgg9Wfg36tHY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"

        # P12 ist hier fix eingetragen:
        P12_BASE64: "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"
        P12_PASSWORD: "Yamahayz85"

    scripts:
      - name: Install signing (inline)
        script: |
          #!/usr/bin/env bash
          set -euo pipefail

          req(){ [[ -n "${!1:-}" ]] || { echo "$1 leer"; exit 1; }; }
          req P12_BASE64; req MOBILEPROVISION_BASE64; req P12_PASSWORD

          mkdir -p /tmp/signing

          # .p12 streng Base64 prüfen und schreiben
          python3 - <<'PY'
          import os, base64, pathlib, re, sys, binascii
          s=''.join(os.environ["P12_BASE64"].split()).strip('"').strip("'")
          if not re.fullmatch(r'[A-Za-z0-9+/=]+', s):
              sys.exit(2)
          s += "=" * ((4 - len(s) % 4) % 4)
          pathlib.Path("/tmp/signing/cert.p12").write_bytes(base64.b64decode(s, validate=True))
          PY

          # mobileprovision: Base64 CMS / XML-Plist / Roh
          python3 - <<'PY'
          import os, base64, pathlib, re, binascii
          raw=os.environ["MOBILEPROVISION_BASE64"]
          if not raw:
              raise SystemExit(1)
          s=''.join(raw.split()).strip('"').strip("'")
          data=None
          if re.fullmatch(r'[A-Za-z0-9+/=]+', s or ""):
              try:
                  s+= "="*((4-len(s)%4)%4)
                  data=base64.b64decode(s, validate=True)
              except binascii.Error:
                  data=None
          if data is None:
              data=raw.encode("utf-8")
          pathlib.Path("/tmp/signing/profile.mobileprovision").write_bytes(data)
          PY

          /usr/bin/openssl pkcs12 -info -in /tmp/signing/cert.p12 -passin pass:"$P12_PASSWORD" -nodes -nokeys >/dev/null \
            || { echo "Ungültiges .p12 oder falsches Passwort"; exit 1; }

          keychain initialize
          keychain add-certificates --certificate /tmp/signing/cert.p12 --certificate-password "$P12_PASSWORD"

          PROV="/tmp/signing/profile.mobileprovision"
          [[ -s "$PROV" ]] || { echo "Provisioning-Profile leer"; exit 1; }

          PLIST="/tmp/signing/profile.plist"; rm -f "$PLIST"

          # 1) CMS -> Plist
          if /usr/bin/security cms -D -i "$PROV" -o "$PLIST" >/dev/null 2>&1 && [[ -s "$PLIST" ]]; then
            :
          else
            # 2) <plist> aus Rohdaten extrahieren
            if grep -a -q "<plist" "$PROV"; then
              awk 'f{print} /<plist/{f=1} /<\/plist>/{print; exit}' "$PROV" > "$PLIST" || true
              /usr/bin/plutil -convert xml1 "$PLIST" >/dev/null 2>&1 || true
            fi
            # 3) OpenSSL-Fallback
            if [[ ! -s "$PLIST" ]] || ! /usr/bin/plutil -p "$PLIST" >/dev/null 2>&1; then
              /usr/bin/openssl smime -inform DER -verify -noverify -in "$PROV" -out "$PLIST" >/dev/null 2>&1 || \
              /usr/bin/openssl smime -inform PEM -verify -noverify -in "$PROV" -out "$PLIST" >/dev/null 2>&1 || true
            fi
          fi

          # 4) Python-Notfall: Plist validieren/bergen
          python3 - <<'PY'
          import re, plistlib, pathlib
          plist=pathlib.Path("/tmp/signing/profile.plist")
          prov =pathlib.Path("/tmp/signing/profile.mobileprovision")
          try:
              ok=False
              if plist.exists() and plist.stat().st_size>0:
                  with plist.open('rb') as f: plistlib.load(f); ok=True
              if not ok:
                  txt=prov.read_text(errors='ignore')
                  m=re.search(r'<plist[\\s\\S]*</plist>', txt or '')
                  if m:
                      plist.write_text(m.group(0))
                      with plist.open('rb') as f: plistlib.load(f); ok=True
              assert ok
          except Exception:
              pass
          PY

          /usr/bin/plutil -p "$PLIST" >/dev/null 2>&1 || { echo "Provisioning-Profile ungültig"; exit 1; }

          UUID="$(/usr/bin/python3 -c 'import plistlib; print(plistlib.load(open("/tmp/signing/profile.plist","rb")).get("UUID",""))' || true)"
          [[ -n "$UUID" ]] || { echo "Profil ungültig: UUID nicht gefunden"; exit 1; }

          mkdir -p "$HOME/Library/MobileDevice/Provisioning Profiles"
          cp "$PROV"  "$HOME/Library/MobileDevice/Provisioning Profiles/$UUID.mobileprovision"
          cp "$PLIST" "$HOME/Library/MobileDevice/Provisioning Profiles/$UUID.plist"

          xcode-project use-profiles

      - name: Build IPA
        script: |
          #!/usr/bin/env bash
          set -euo pipefail

          export IPHONEOS_DEPLOYMENT_TARGET=14.0

          # Flutter vorbereiten
          if [[ -f pubspec.yaml ]]; then
            flutter --version
            flutter pub get
            flutter precache --ios
            flutter build ios --release --no-codesign
          fi

          # Podfile sicher auf 14.0 + post_install setzen
          ensure_podfile_fix() {
            local pf="ios/Podfile"
            if [[ ! -f "$pf" ]]; then
              mkdir -p ios
              cat >"$pf" <<'RUBY'
platform :ios, '14.0'
require File.expand_path(File.join('..', 'Flutter', 'podhelper'))
flutter_ios_podfile_setup
target 'Runner' do
  use_frameworks!
  use_modular_headers!
  flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))
end
post_install do |installer|
  installer.pods_project.targets.each do |t|
    t.build_configurations.each do |config|
      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '14.0'
    end
  end
end
RUBY
            fi
            if grep -qE "^\s*platform\s*:ios" "$pf"; then
              sed -i.bak "s/^\s*platform\s*:ios.*/platform :ios, '14.0'/" "$pf"
            else
              sed -i.bak "1s;^;platform :ios, '14.0'\n;" "$pf"
            fi
            if ! grep -q "post_install do |installer|" "$pf"; then
              cat >>"$pf" <<'RUBY'

post_install do |installer|
  installer.pods_project.targets.each do |t|
    t.build_configurations.each do |config|
      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '14.0'
    end
  end
end
RUBY
            fi
          }

          # Pods
          if [[ -d ios ]]; then
            gem list cocoapods -i >/dev/null 2>&1 || sudo gem install cocoapods --no-document
            ensure_podfile_fix
            rm -f ios/Podfile.lock
            rm -rf ios/Pods
            (cd ios && pod repo update >/dev/null 2>&1 || true)
            (cd ios && pod install)
          fi

          # Xcode-Projekt hart auf 14.0
          if [[ -d ios/Runner.xcodeproj ]]; then
            sed -i.bak "s/IPHONEOS_DEPLOYMENT_TARGET = [0-9.]\+/IPHONEOS_DEPLOYMENT_TARGET = 14.0/g" ios/Runner.xcodeproj/project.pbxproj || true
          fi

          # Workspace/Projekt finden
          WS="$(find ios -maxdepth 3 -name "*.xcworkspace" -print -quit 2>/dev/null || true)"
          [[ -n "$WS" ]] || WS="$(find . -path "./macos" -prune -o -name "*.xcworkspace" -print -quit || true)"
          PROJ=""
          if [[ -z "$WS" ]]; then
            PROJ="$(find ios -maxdepth 3 -name "*.xcodeproj" -print -quit 2>/dev/null || true)"
            [[ -n "$PROJ" ]] || PROJ="$(find . -path "./macos" -prune -o -name "*.xcodeproj" -print -quit || true)"
          fi
          [[ -n "$WS" || -n "$PROJ" ]] || { echo "Kein iOS .xcworkspace oder .xcodeproj gefunden"; exit 1; }

          # Scheme wählen
          LIST_JSON="$(/usr/bin/xcodebuild ${WS:+-workspace "$WS"} ${PROJ:+-project "$PROJ"} -list -json 2>/dev/null || true)"
          DETECTED="$(/usr/bin/python3 - <<'PY'
import json,sys
try:
  d=json.loads(sys.stdin.read() or "{}")
  s=d.get("workspace",{}).get("schemes") or d.get("project",{}).get("schemes") or []
  print("\n".join(s))
except Exception:
  pass
PY
<<<"$LIST_JSON")"
          WANT="${SCHEME:-}"
          if [[ -n "$WANT" ]] && grep -Fxq "$WANT" <<<"$DETECTED"; then
            PICK="$WANT"
          elif grep -Fxq "Runner" <<<"$DETECTED"; then
            PICK="Runner"
          else
            PICK="$(head -n1 <<<"$DETECTED")"
          fi
          if [[ -z "${PICK:-}" ]]; then
            LIST_TXT="$(/usr/bin/xcodebuild ${WS:+-workspace "$WS"} ${PROJ:+-project "$PROJ"} -list 2>/dev/null || true)"
            PICK="$(awk '/Schemes:/{p=1;next} p && NF{print;exit}' <<<"$LIST_TXT" | sed 's/^[[:space:]]*//')"
          fi
          [[ -n "${PICK:-}" ]] || { echo "Kein Scheme gefunden"; /usr/bin/xcodebuild ${WS:+-workspace "$WS"} ${PROJ:+-project "$PROJ"} -list || true; exit 1; }
          SCHEME="$PICK"
          echo "Verwende Scheme: $SCHEME"

          # Schema validieren
          set -o pipefail
          if [[ -n "$WS" ]]; then
            if ! xcodebuild -workspace "$WS" -scheme "$SCHEME" -showBuildSettings >/dev/null; then
              echo "Schema '$SCHEME' nicht im Workspace nutzbar. Versuche Projekt…"
              if [[ -n "$PROJ" ]] && xcodebuild -project "$PROJ" -scheme "$SCHEME" -showBuildSettings >/dev/null; then
                WS=""
                echo "Wechsle auf Projekt: $PROJ"
              else
                echo "Kein gültiges Scheme nutzbar."
                /usr/bin/xcodebuild ${WS:+-workspace "$WS"} ${PROJ:+-project "$PROJ"} -list || true
                exit 1
              fi
            fi
          else
            xcodebuild -project "$PROJ" -scheme "$SCHEME" -showBuildSettings >/dev/null
          fi

          # Archive
          CONFIGURATION="${CONFIGURATION:-Release}"
          DESTINATION="generic/platform=iOS"
          DATE_DIR="$(date +%Y-%m-%d)"
          TIME_TAG="$(date +%H-%M-%S)"
          ARCHIVE_DIR="$HOME/Library/Developer/Xcode/Archives/${DATE_DIR}"
          mkdir -p "$ARCHIVE_DIR"
          ARCHIVE_PATH="${ARCHIVE_DIR}/${SCHEME}-${TIME_TAG}.xcarchive"

          if [[ -n "$WS" ]]; then
            echo "Archive (workspace) -> $ARCHIVE_PATH"
            xcodebuild -workspace "$WS" -scheme "$SCHEME" -configuration "$CONFIGURATION" -destination "$DESTINATION" clean archive -archivePath "$ARCHIVE_PATH" CODE_SIGN_STYLE=Manual IPHONEOS_DEPLOYMENT_TARGET=14.0 | tee /tmp/xcodebuild_logs_archive.log
          else
            echo "Archive (project) -> $ARCHIVE_PATH"
            xcodebuild -project "$PROJ" -scheme "$SCHEME" -configuration "$CONFIGURATION" -destination "$DESTINATION" clean archive -archivePath "$ARCHIVE_PATH" CODE_SIGN_STYLE=Manual IPHONEOS_DEPLOYMENT_TARGET=14.0 | tee /tmp/xcodebuild_logs_archive.log
          fi

          # ExportOptions
          EXPORT_METHOD="${EXPORT_METHOD:-app-store}"
          EXPORT_PLIST="/tmp/ExportOptions.plist"
          cat > "$EXPORT_PLIST" <<PLIST
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0"><dict>
  <key>method</key><string>${EXPORT_METHOD}</string>
  <key>signingStyle</key><string>manual</string>
  <key>destination</key><string>export</string>
  <key>stripSwiftSymbols</key><true/>
  <key>compileBitcode</key><false/>
  <key>uploadBitcode</key><false/>
</dict></plist>
PLIST

          # Export
          mkdir -p build/ios/ipa
          xcodebuild -exportArchive -archivePath "$ARCHIVE_PATH" -exportPath "build/ios/ipa" -exportOptionsPlist "$EXPORT_PLIST" | tee /tmp/xcodebuild_logs_export.log
          echo "IPA unter build/ios/ipa"

    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs*.log
      - /tmp/xcodebuild_logs_*.log
      - $HOME/Library/Developer/Xcode/Archives/**/*
